{
    "json_class": "Chef::Role",
    "name": "trackmiles",
    "description": "TrackMiles Server Configuration",
    "run_list": [
        "recipe[chef-solo-search]",
        "recipe[ufw::databag]",
        "recipe[apt-periodic]",
        "recipe[fail2ban]",
        "recipe[logrotate]",
        "recipe[resolver]"
    ],
    "override_attributes": {
        "apt-periodic": {
            "unattended_upgrade_interioval": "1",
            "unattended_upgrades": {
                "mail": "contact@davidraff.com"
            }
        }
    },
    "default_attributes": {
        "resolver": {
            "nameservers": ["8.8.8.8", "8.8.4.4"]
        },
        "firewall": {
            "rules": [
                {"http": {
                    "port": "80",
                    "protocol":"tcp"
                }},
                {"https": {
                    "port": "443",
                    "protocol":"tcp"
                }}
            ]
        }
    }
}
